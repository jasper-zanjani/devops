
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://jasper-zanjani.github.io/devops/Cloud/Azure/Azure-IAM/">
      
      
        <link rel="prev" href="../Azure-File-Service/">
      
      
        <link rel="next" href="../Azure-IaaS/">
      
      
      <link rel="icon" href="../../../favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.9">
    
    
      
        <title>Azure IAM - DevOps</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      
  
  
    
    
  
    
    
  
  
  <style>:root{--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%206.7.2%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202024%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M512%2080c0%2018-14.3%2034.6-38.4%2048-29.1%2016.1-72.5%2027.5-122.3%2030.9-3.7-1.8-7.4-3.5-11.3-5-39.4-16.5-91.8-25.9-148-25.9-8.3%200-16.4.2-24.5.6l-1.1-.6C142.3%20114.6%20128%2098%20128%2080c0-44.2%2086-80%20192-80s192%2035.8%20192%2080m-351.3%2081.1c10.2-.7%2020.7-1.1%2031.3-1.1%2062.2%200%20117.4%2012.3%20152.5%2031.4%2024.8%2013.5%2039.5%2030.3%2039.5%2048.6q0%206-2.1%2011.7c-4.6%2013.2-17%2025.3-35%2035.5-.1.1-.3.1-.4.2-.3.2-.6.3-.9.5-35%2019.4-90.8%2032-153.6%2032-59.6%200-112.9-11.3-148.2-29.1-1.9-.9-3.7-1.9-5.5-2.9C14.3%20274.6%200%20258%200%20240c0-34.8%2053.4-64.5%20128-75.4%2010.5-1.5%2021.4-2.7%2032.7-3.5M416%20240c0-21.9-10.6-39.9-24.1-53.4%2028.3-4.4%2054.2-11.4%2076.2-20.5%2016.3-6.8%2031.5-15.2%2043.9-25.5V176c0%2019.3-16.5%2037.1-43.8%2050.9-14.6%207.4-32.4%2013.7-52.4%2018.5.1-1.8.2-3.5.2-5.3zm-32%2096c0%2018-14.3%2034.6-38.4%2048-1.8%201-3.6%201.9-5.5%202.9C304.9%20404.7%20251.6%20416%20192%20416c-62.8%200-118.6-12.6-153.6-32C14.3%20370.6%200%20354%200%20336v-35.4c12.5%2010.3%2027.6%2018.7%2043.9%2025.5C83.4%20342.6%20135.8%20352%20192%20352s108.6-9.4%20148.1-25.9c7.8-3.2%2015.3-6.9%2022.4-10.9%206.1-3.4%2011.8-7.2%2017.2-11.2%201.5-1.1%202.9-2.3%204.3-3.4V336m32%200v-57.9c19-4.2%2036.5-9.5%2052.1-16%2016.3-6.8%2031.5-15.2%2043.9-25.5V272c0%2010.5-5%2021-14.9%2030.9-16.3%2016.3-45%2029.7-81.3%2038.4.1-1.7.2-3.5.2-5.3M192%20448c56.2%200%20108.6-9.4%20148.1-25.9%2016.3-6.8%2031.5-15.2%2043.9-25.5V432c0%2044.2-86%2080-192%2080S0%20476.2%200%20432v-35.4c12.5%2010.3%2027.6%2018.7%2043.9%2025.5C83.4%20438.6%20135.8%20448%20192%20448%22/%3E%3C/svg%3E');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22m7.775%203.275%201.25-1.25a3.5%203.5%200%201%201%204.95%204.95l-2.5%202.5a3.5%203.5%200%200%201-4.95%200%20.75.75%200%200%201%20.018-1.042.75.75%200%200%201%201.042-.018%202%202%200%200%200%202.83%200l2.5-2.5a2.002%202.002%200%200%200-2.83-2.83l-1.25%201.25a.75.75%200%200%201-1.042-.018.75.75%200%200%201-.018-1.042m-4.69%209.64a2%202%200%200%200%202.83%200l1.25-1.25a.75.75%200%200%201%201.042.018.75.75%200%200%201%20.018%201.042l-1.25%201.25a3.5%203.5%200%201%201-4.95-4.95l2.5-2.5a3.5%203.5%200%200%201%204.95%200%20.75.75%200%200%201-.018%201.042.75.75%200%200%201-1.042.018%202%202%200%200%200-2.83%200l-2.5%202.5a2%202%200%200%200%200%202.83%22/%3E%3C/svg%3E');}</style>



    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="teal">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#azure-iam" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="DevOps" class="md-header__button md-logo" aria-label="DevOps" data-md-component="logo">
      
  <img src="../../../logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DevOps
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Azure IAM
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="DevOps" class="md-nav__button md-logo" aria-label="DevOps" data-md-component="logo">
      
  <img src="../../../logo.png" alt="logo">

    </a>
    DevOps
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Automation using Azure DevOps and Ansible
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ADO/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Azure Devops
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Ansible/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ansible
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../github/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GitHub Actions
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Cloud
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Cloud
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Tasks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tasks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../gcp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Google Cloud Platform
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    AWS
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            AWS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../AWS/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../AWS/ebs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    EBS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../AWS/ec2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    EC2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../AWS/iam/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IAM
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../AWS/ml/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Machine learning
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../AWS/s3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    S3
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5_5" id="__nav_5_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Azure
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_5">
            <span class="md-nav__icon md-icon"></span>
            Azure
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Azure
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ARM/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ARM
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Azure-Backup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Azure Backup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Azure-File-Service/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Azure File Service
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Azure IAM
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Azure IAM
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#roles" class="md-nav__link">
    <span class="md-ellipsis">
      Roles
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Roles">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scopes" class="md-nav__link">
    <span class="md-ellipsis">
      Scopes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#role-assignments" class="md-nav__link">
    <span class="md-ellipsis">
      Role assignments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#role-definitions" class="md-nav__link">
    <span class="md-ellipsis">
      Role definitions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Azure-IaaS/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Azure IaaS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Azure-Key-Vault/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Azure Key Vault
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Azure-Monitoring/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Azure Monitoring
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Azure-Policy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Azure Policy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Azure-Storage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Azure Storage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Azure-VPN/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Azure VPN
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Kusto/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kusto
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../appservice/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Appservice
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../entra-id/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Entra id
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_6" >
        
          
          <label class="md-nav__link" for="__nav_5_6" id="__nav_5_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    IBM
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_6">
            <span class="md-nav__icon md-icon"></span>
            IBM
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../IBM/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IBM Cloud
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Kubernetes
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Kubernetes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Kubernetes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kubernetes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Kubernetes/helm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Helm
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Terraform
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Terraform
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Terraform/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Terraform
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_2" >
        
          
          <label class="md-nav__link" for="__nav_7_2" id="__nav_7_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tasks
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2">
            <span class="md-nav__icon md-icon"></span>
            Tasks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_2_1" >
        
          
          <label class="md-nav__link" for="__nav_7_2_1" id="__nav_7_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    AWS
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2_1">
            <span class="md-nav__icon md-icon"></span>
            AWS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Terraform/Tasks/AWS/create-user/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Create user
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Terraform/Tasks/AWS/deploy-vm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deploy VM
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Terraform/Tasks/AWS/eks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    EKS
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_2_2" >
        
          
          <label class="md-nav__link" for="__nav_7_2_2" id="__nav_7_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Azure
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2_2">
            <span class="md-nav__icon md-icon"></span>
            Azure
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Terraform/Tasks/Azure/00-provider/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    provider
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Terraform/Tasks/Azure/01-group/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    azurerm_resource_group
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Terraform/Tasks/Azure/10-vnet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    azurerm_virtual_network
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_2_3" >
        
          
          <label class="md-nav__link" for="__nav_7_2_3" id="__nav_7_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Basics
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2_3">
            <span class="md-nav__icon md-icon"></span>
            Basics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Terraform/Tasks/Basics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hello, World!
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_2_4" >
        
          
          <label class="md-nav__link" for="__nav_7_2_4" id="__nav_7_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    IBM
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2_4">
            <span class="md-nav__icon md-icon"></span>
            IBM
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Terraform/Tasks/IBM/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IBM Cloud tasks
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="azure-iam">Azure IAM</h1>
<p>Access to Azure resources is governed by <strong>role-Based Access Controls (RBAC)</strong> are supported only by Azure Portal and the ARM APIs. 
RBAC is configured by selecting a <strong>role</strong> and associating it with a <strong>security principal</strong>, such as a user, group, or service identity. 
Child reosurces inherit the roles of their parents ("role inheritance").</p>
<div class="admonition info">
<p class="admonition-title">Classic subscription administrators</p>
<p>Classic subscription administrators have full access to a subcription. 
They can access resources through Azure Portal, ARM APIs (PowerShell and CLI), and classic deployment model APIs.</p>
<p>By default, the account that is used to sign up for a subscription is automatically set as both <strong>Account Administrator</strong> and <strong>Service Administrator</strong>. </p>
<p>There can only be one Account Administrator per account and only 1 Service Administrator per subscription. </p>
<p><strong>Co-Administrators</strong> have the same access as Service Administrators, and there can be 200 of them per subscription, but cannot change the association of subscriptions to directories.</p>
</div>
<h2 id="roles">Roles</h2>
<p>Components of a role assignment include:</p>
<ul>
<li><strong>Security principal</strong>: objects associated with a role definition and a scope to apply RBAC to azure resources (i.e. a user, group, service principal, or <strong>managed identity</strong> which is an application registration that is managed automatically by Azure and an Azure service)<ul>
<li><strong>User principal</strong>: identity associated with a user or group of users.</li>
<li><strong>Service principal</strong>: identity associated with an application.</li>
</ul>
</li>
<li><a href="#role-definition"><strong>Role definition</strong></a>: list of permissions which define what actions can or cannot be performed against a resource. In addition to the 4 foundational <a href="#built-in-roles">built-in roles</a>, there are many other built-in roles and custom roles can be defined using a JSON file.</li>
<li><a href="#scopes"><strong>Scope</strong></a></li>
</ul>
<h3 id="scopes">Scopes</h3>
<p>There are <strong>four</strong> scopes at which RBAC can be applied:</p>
<ul>
<li>Management group</li>
<li>Subscriptions</li>
<li>Resource groups</li>
<li>Resources</li>
</ul>
<p><img alt="" src="/img/rbac-scopes.png" /></p>
<p>Azure RBAC roles can be used to grant rights to 2 types of principals:</p>
<ul>
<li><strong>User principal</strong>: identity associated with a user or group of users.</li>
<li><strong>Service principal</strong>: identity associated with an application.</li>
</ul>
<p>RBAC roles can also be applied to a subscription through <strong>Management Groups</strong>, which represent the recommended practice for ensuring consistent application of tenant-wide security. Management groups form a hierarchy where each child inherits policy from its single parent while having additional controls. There is a single Management Group at the root of the hierarchy, associated with the Azure AD tenant (which is associated, in turn, with a subscription) that cannot be moved or deleted. </p>
<h3 id="role-assignments">Role assignments</h3>
<p>Current assignments for classic admins can be seen in the <strong>Properties blade</strong> of a subscription in Azure Portal. Co-Administrator assignments can be added by opening the <strong>Access Control (IAM)</strong> blade of a subscription, then clicking the <strong>Add co-administrator</strong> button.</p>
<p>RBAC roles are supported only by Azure Portal and the ARM APIs. 
Access policy is applied to a <strong>scope</strong>, which includes subscriptions, resource groups, or resources: a policy applied to a subscription is said to be at the "subscription scope". 
Policy can also be applied to Management Groups, which is an additional scope above subscription. 
In this way, several subscriptions can inherit a single policy through a Management Group.</p>
<p>RBAC roles can also be applied to a subscription through <strong>Management Groups</strong>, which represent the recommended practice for ensuring consistent application of tenant-wide security. 
Management groups form a hierarchy where each child inherits policy from its single parent while having additional controls. 
There is a single Management Group at the root of the hierarchy, associated with the Azure AD tenant (which is associated, in turn, with a subscription) that cannot be moved or deleted. </p>
<h3 id="role-definitions">Role definitions</h3>
<p>Custom roles configure two types of privileges and are specified by two different properties of the definition JSON file: Management and Data. This provides safety from allowing unrestricted access to data.</p>
<p>The values of these properties is an array of strings, each of which follows the format <code>Company.ProviderName/ResourceType/Action</code> where <code>action</code> can be of values <code>read</code>, <code>write</code>, <code>action</code>, <code>delete</code>, or <code>*</code>.</p>
<table>
<thead>
<tr>
<th>Privilege</th>
<th>Property that defines allowed permissions</th>
<th>Property that defines denied permissions</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Management</strong></td>
<td><code>Actions</code></td>
<td><code>NotActions</code></td>
</tr>
<tr>
<td><strong>Data</strong></td>
<td><code>DataActions</code></td>
<td><code>NotDataActions</code></td>
</tr>
</tbody>
</table>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Unrestricted</label><label for="__tabbed_1_2">Network resources (read only)</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nt">&quot;Actions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">  </span><span class="s2">&quot;*&quot;</span>
<span class="p">]</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nt">&quot;Actions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">  </span><span class="s2">&quot;Microsoft.Network/*/read&quot;</span>
<span class="p">]</span>
</code></pre></div>
</div>
</div>
</div>
<p>Example role definitions:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:1"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Contributor</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;Name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Contributor&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;Id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b24988ac-6180-42a0-ab88-20f7382dd24c&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;IsCustom&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;Description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Lets you manage everything except access to resources.&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;Actions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="s2">&quot;*&quot;</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;NotActions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="s2">&quot;Microsoft.Authorization/*/Delete&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;Microsoft.Authorization/*/Write&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;Microsoft.Authorization/elevateAccess/Action&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;Microsoft.Blueprint/blueprintAssignments/write&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;Microsoft.Blueprint/blueprintAssignments/delete&quot;</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;DataActions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">  </span><span class="nt">&quot;NotDataActions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">  </span><span class="nt">&quot;AssignableScopes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="s2">&quot;/&quot;</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<p>Some built-in roles:</p>
<ul>
<li><strong>Owner</strong> has full access to all resources and <strong>can</strong> delegate access. Service Administrator and Co-Administrators are assigned this role at the subscription scope.</li>
<li><strong>Contributor</strong> can create and manage all resources (full read/write privileges), but <strong>cannot</strong> delegate access.</li>
<li><strong>Reader</strong> can view resources.</li>
<li>[Cost Management Contributor][Cost Management Contributor]</li>
<li>[Cost Management Reader][Cost Management Reader]</li>
<li>[Resource Policy Contributor][Resource Policy Contributor]</li>
<li>[User Administrator][User Administrator]</li>
<li>[User Access Administrator][User Access Administrator]</li>
</ul>
<h1 id="tasks">Tasks</h1>
<h3 id="create-assignment">Create assignment</h3>
<p>Assign the Owner role to a user at the subscription scope</p>
<ul>
<li>Navigate to resource group &gt; Access Control (IAM) &gt; Role Assignments tab &gt; Add &gt; Add Role Assignment</li>
<li>
<p>Open Subscription &gt; Access Control (IAM) &gt; Add Role Assignment&gt; select a Role &gt; Select target principal</p>
</li>
<li>
<p><strong>Access control (AIM)</strong> pane &gt; <strong>Add</strong> &gt; <strong>Add role assignment</strong></p>
</li>
<li>Select a role in the <strong>Role</strong> dropdown and a user in the <strong>Select</strong> field. Then <strong>Save</strong></li>
</ul>
<div class="tabbed-set tabbed-alternate" data-tabs="3:3"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><input id="__tabbed_3_3" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">Azure Portal</label><label for="__tabbed_3_2">PowerShell</label><label for="__tabbed_3_3">Azure CLI</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><img alt="" src="/img/add-role.png" /></p>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c"># Resource group scope</span>
<span class="nb">New-AzRoleAssignment</span> 
    <span class="n">-SignInName</span> <span class="s2">&quot;rbacuser@example.com&quot;</span> 
    <span class="n">-RoleDefinitionName</span> <span class="s2">&quot;Virtual Machine Contributor&quot;</span> 
    <span class="n">-ResourceGroupName</span> <span class="n">ExamRefRG</span>

<span class="c"># Subscription scope</span>
<span class="nb">New-AzRoleAssignment</span> 
    <span class="n">-SignInName</span> <span class="s2">&quot;rbacuser@example.com&quot;</span> 
    <span class="n">-RoleDefinitionName</span> <span class="s2">&quot;Owner&quot;</span> 
    <span class="n">-Scope</span> <span class="s2">&quot;/subscriptions/$subId&quot;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1"># Resource group scope</span>
az<span class="w"> </span>role<span class="w"> </span>assignment<span class="w"> </span>create<span class="w"> </span>
<span class="w">    </span>--assignee<span class="w"> </span><span class="s2">&quot;rbacuser@example.com&quot;</span><span class="w"> </span>
<span class="w">    </span>--role<span class="w"> </span><span class="s2">&quot;Virtual Machine Contributor&quot;</span><span class="w"> </span>
<span class="w">    </span>--resource-group<span class="w"> </span>ExamRefRG

<span class="c1"># Subscription scope</span>
az<span class="w"> </span>role<span class="w"> </span>assignment<span class="w"> </span>create<span class="w"> </span>
<span class="w">    </span>--assignee<span class="w"> </span><span class="s2">&quot;rbacuser@example.com&quot;</span><span class="w"> </span>
<span class="w">    </span>--role<span class="w"> </span><span class="s2">&quot;Owner&quot;</span><span class="w"> </span>
<span class="w">    </span>--subscription<span class="w"> </span><span class="nv">$subId</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="delete-assignment">Delete assignment</h3>
<p>Navigate to resource group &gt; <strong>Access Control (IAM)</strong> &gt; <strong>Role Assignments</strong> tab &gt; Select one or more security principals &gt; <strong>Remove</strong></p>
<p>Remove RBAC assignments from a user</p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:1"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">Azure PowerShell</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nb">Remove-AzRoleAssignment</span> <span class="n">-SignInName</span> <span class="s2">&quot;cloudadmin@opsgility.onmicrosoft.com&quot;</span> <span class="n">-RoleDefinitionName</span> <span class="s2">&quot;Virtual Machine Contributor&quot;</span> <span class="n">-ResourceGroupName</span> <span class="n">ExamRefRG</span>

<span class="nb">Remove-AzRoleAssignment</span> <span class="n">-SignInName</span> <span class="nv">$u</span> <span class="n">-ResourceGroupName</span> <span class="nv">$rgName</span> <span class="n">-RoleDefinitionName</span> <span class="s2">&quot;Virtual Machine Contributor&quot;</span> 
</code></pre></div>
</div>
</div>
</div>
<p>Azure AD group
<div class="highlight"><pre><span></span><code><span class="nv">$g</span> <span class="p">=</span> <span class="nb">Get-AzADGroup</span> <span class="n">-SearchString</span> <span class="s2">&quot;Cloud Admins&quot;</span>
<span class="nb">Remove-AzRoleAssignment</span> <span class="n">-ObjectId</span> <span class="nv">$g</span><span class="p">.</span><span class="n">Id</span> <span class="n">-ResourceGroupName</span> <span class="nv">$rg</span> <span class="n">-RoleDefinitionName</span> <span class="s2">&quot;Virtual Machine Contributor&quot;</span> 
</code></pre></div></p>
<p><div class="highlight"><pre><span></span><code>az<span class="w"> </span>role<span class="w"> </span>assignment<span class="w"> </span>delete<span class="w"> </span>--assignee<span class="w"> </span><span class="nv">$u</span><span class="w"> </span>--resource-group<span class="w"> </span><span class="nv">$rg</span><span class="w"> </span>--role<span class="w"> </span><span class="s2">&quot;Virtual Machine Contributor&quot;</span><span class="w"> </span>
</code></pre></div>
Azure AD group
<div class="highlight"><pre><span></span><code><span class="nv">g</span><span class="o">=</span><span class="k">$(</span>az<span class="w"> </span>ad<span class="w"> </span>group<span class="w"> </span>list<span class="w"> </span>--query<span class="w"> </span><span class="s2">&quot;[?displayName==&#39;Cloud Admins&#39;].objectId&quot;</span><span class="w"> </span>-o<span class="w"> </span>tsv<span class="k">)</span>
az<span class="w"> </span>role<span class="w"> </span>assignment<span class="w"> </span>delete<span class="w"> </span>--role<span class="w"> </span><span class="s2">&quot;Virtual Machine Contributor&quot;</span><span class="w"> </span>-â€“assignee-object-id<span class="w"> </span><span class="nv">$g</span><span class="w"> </span>--resource-group<span class="w"> </span><span class="nv">$rg</span>
</code></pre></div></p>
<p>Read assignment</p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:2"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">Azure PowerShell</label><label for="__tabbed_5_2">Azure CLI</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nb">Get-AzRoleDefinition</span> <span class="n">-Name</span> <span class="s2">&quot;Virtual Machine Contributor&quot;</span> <span class="p">|</span> <span class="nb">ConvertTo-Json</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>az<span class="w"> </span>role<span class="w"> </span>definition<span class="w"> </span>list<span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;Virtual Machine Contributor&quot;</span>
</code></pre></div>
</div>
</div>
</div>
<p>List custom roles available for assignment</p>
<div class="tabbed-set tabbed-alternate" data-tabs="6:2"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><input id="__tabbed_6_2" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="__tabbed_6_1">Azure PowerShell</label><label for="__tabbed_6_2">Azure CLI</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nb">Get-AzRoleDefinition</span> <span class="p">|</span> <span class="nb">Where-Object</span> <span class="p">{</span> <span class="nv">$_</span><span class="p">.</span><span class="n">IsCustom</span> <span class="o">-eq</span> <span class="nv">$true</span> <span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>az<span class="w"> </span>role<span class="w"> </span>definition<span class="w"> </span>list<span class="w"> </span>--custom-role-only<span class="w"> </span>-o<span class="w"> </span>table
</code></pre></div>
</div>
</div>
</div>
<p>View all role assignments in a subscription
<div class="highlight"><pre><span></span><code>az<span class="w"> </span>role<span class="w"> </span>assignment<span class="w"> </span>list<span class="w"> </span>--all
</code></pre></div></p>
<p>Create role definition</p>
<div class="tabbed-set tabbed-alternate" data-tabs="7:1"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio" /><div class="tabbed-labels"><label for="__tabbed_7_1">Azure PowerShell</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nb">New-AzRoleDefinition</span> <span class="n">-InputFile</span> <span class="s2">&quot;C:\ARM_templates\customrole1.json&quot;</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="configure-cost-center-quotas-and-tagging">Configure cost center quotas and tagging</h3>
<p>Grant an AD group RBAC rights</p>
<div class="tabbed-set tabbed-alternate" data-tabs="8:1"><input checked="checked" id="__tabbed_8_1" name="__tabbed_8" type="radio" /><div class="tabbed-labels"><label for="__tabbed_8_1">Azure PowerShell</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nv">$group</span> <span class="p">=</span> <span class="nb">Get-AzADGroup</span> <span class="n">-SearchString</span> <span class="s2">&quot;Cloud Admins&quot;</span>
<span class="nb">New-AzRoleAssignment</span> <span class="n">-ObjectId</span> <span class="nv">$group</span><span class="p">.</span><span class="n">Id</span> <span class="n">-RoleDefinitionName</span> <span class="s2">&quot;Virtual Machine Contributor&quot;</span> <span class="n">-ResourceGroupName</span> <span class="n">ExamRefRG</span>
</code></pre></div>
</div>
</div>
</div>
<p>Remove RBAC assignments from a group</p>
<div class="tabbed-set tabbed-alternate" data-tabs="9:1"><input checked="checked" id="__tabbed_9_1" name="__tabbed_9" type="radio" /><div class="tabbed-labels"><label for="__tabbed_9_1">Azure PowerShell</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nv">$adGroup</span> <span class="p">=</span> <span class="nb">Get-AzADGRoup</span> <span class="n">-SearchString</span> <span class="s2">&quot;Cloud Admins&quot;</span>
<span class="nb">Remove-AzRoleAssignment</span> 
    <span class="n">-ResourceGroupName</span> <span class="nv">$rgName</span>
    <span class="n">-ObjectId</span> <span class="nv">$adGroup</span><span class="p">.</span><span class="n">Id</span> 
    <span class="n">-RoleDefinitionName</span> <span class="s2">&quot;Virtual Machine Contributor&quot;</span> 
</code></pre></div>
</div>
</div>
</div>
<h3 id="elevate-permissions">Elevate permissions</h3>
<p>For <a href="Azure-AD">Azure AD</a> Global Administrators who want to temporarily elevate permissions </p>
<ol>
<li>Sign into Azure portal as an Azure AD Global Administrator.<sup><a href="https://docs.microsoft.com/en-us/learn/modules/manage-subscription-access-azure-rbac/4-exercise-elevate-permissions">?</a></sup></li>
<li>Navigate to <strong>Azure Active Directory</strong> &gt; <strong>Properties</strong>. At the bottom of the page, under "Access management for Azure resources" click <strong>Yes</strong> then <strong>Save</strong>.
<img alt="" src="/img/aad-elevate.png" /></li>
<li>Sign out and sign in again.</li>
<li><a href="Assign-roles">Assign roles</a></li>
<li>Revoke elevated access by returning to <strong>Azure Active Directory</strong> &gt; <strong>Properties</strong> and selecting <strong>No</strong> under "Access management for Azure resources".</li>
</ol>
<p>Sources</p>
<ul>
<li><a href="https://docs.microsoft.com/en-us/learn/modules/manage-subscription-access-azure-rbac/3-elevate-your-access-user-access-admin">Elevating global administrator access</a></li>
<li><a href="https://docs.microsoft.com/en-us/azure/role-based-access-control/role-definitions">Understand Azure role definitions</a></li>
</ul>
<h4 id="sspr">SSPR</h4>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.sections", "navigation.expand", "toc.integrate", "content.code.annotate", "content.code.copy", "content.tabs.link"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>